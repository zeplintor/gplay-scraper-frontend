<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlayStore Analytics Pro</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #333; padding: 20px; min-height: 100vh; }
        .container { max-width: 1200px; margin: 0 auto; }
        header { background: white; padding: 40px; border-radius: 15px; text-align: center; margin-bottom: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); }
        h1 { font-size: 2.5rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 10px; }
        .tabs { display: flex; gap: 10px; background: white; padding: 10px; border-radius: 15px; margin-bottom: 20px; }
        .tab-btn { flex: 1; padding: 15px; background: transparent; border: none; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: 600; transition: all 0.3s; }
        .tab-btn.active { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .box { background: white; padding: 30px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
        input { width: 100%; padding: 15px; font-size: 16px; border: 2px solid #e0e0e0; border-radius: 10px; margin-bottom: 15px; }
        button { padding: 15px 30px; font-size: 16px; font-weight: bold; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; cursor: pointer; transition: all 0.3s; margin-right: 10px; }
        button:hover { transform: translateY(-2px); }
        .result { background: white; padding: 30px; border-radius: 15px; margin-bottom: 20px; }
        .app-header { display: flex; gap: 20px; align-items: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid #f0f0f0; }
        .app-icon { width: 100px; height: 100px; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
        .stat-card { background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center; transition: all 0.3s; }
        .stat-card:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .stat-label { font-size: 0.85rem; color: #666; text-transform: uppercase; margin-bottom: 10px; font-weight: 600; }
        .stat-value { font-size: 2rem; font-weight: bold; color: #667eea; }
        .loading { text-align: center; padding: 40px; }
        .spinner { width: 50px; height: 50px; border: 4px solid #f3f3f3; border-top: 4px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .toast { position: fixed; bottom: 20px; right: 20px; background: #333; color: white; padding: 15px 25px; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.3); z-index: 10000; }
        .toast.success { background: #4caf50; }
        .toast.error { background: #f44336; }
        
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 10000; overflow-y: auto; padding: 20px; }
        .modal-content { background: white; max-width: 1000px; margin: 0 auto; border-radius: 20px; }
        .modal-header { background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 30px; border-radius: 20px 20px 0 0; display: flex; justify-content: space-between; align-items: center; }
        .modal-close { background: none; border: none; color: white; font-size: 30px; cursor: pointer; padding: 0; width: 40px; height: 40px; }
        .modal-body { padding: 40px; max-height: 80vh; overflow-y: auto; }
        .premium-section { margin-bottom: 40px; }
        .premium-section h4 { color: #667eea; font-size: 1.4rem; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 3px solid #e0e0e0; }
        .blur-section { position: relative; filter: blur(4px); pointer-events: none; user-select: none; }
        .unlock-badge { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: linear-gradient(135deg, #ff9800, #f57c00); color: white; padding: 20px 40px; border-radius: 50px; font-weight: bold; font-size: 1.2rem; z-index: 10; box-shadow: 0 8px 25px rgba(0,0,0,0.3); white-space: nowrap; }
        .chart-container { background: #f8f9fa; padding: 25px; border-radius: 15px; margin: 25px 0; }
        .bar-chart { display: flex; align-items: flex-end; gap: 15px; height: 220px; margin-top: 30px; }
        .bar { flex: 1; background: linear-gradient(to top, #667eea, #4caf50); border-radius: 8px 8px 0 0; position: relative; transition: transform 0.3s; }
        .bar:hover { transform: translateY(-5px); }
        .bar-value { position: absolute; top: -30px; width: 100%; text-align: center; font-weight: bold; color: #333; font-size: 0.9rem; }
        .bar-label { position: absolute; bottom: -30px; width: 100%; text-align: center; font-size: 0.85rem; color: #666; font-weight: 600; }
        .info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
        .info-item { background: #f8f9fa; padding: 18px; border-radius: 10px; border-left: 4px solid #667eea; }
        .info-label { font-size: 0.8rem; color: #666; text-transform: uppercase; margin-bottom: 8px; font-weight: 600; letter-spacing: 0.5px; }
        .info-value { font-size: 1.15rem; font-weight: 700; color: #333; }
        .cta-section { text-align: center; padding: 50px 40px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 15px; color: white; margin-top: 40px; }
        .cta-section h3 { font-size: 2rem; margin-bottom: 15px; }
        .price-tag { background: #4caf50; color: white; padding: 15px 30px; border-radius: 15px; display: inline-block; font-size: 2rem; font-weight: bold; margin: 25px 0; box-shadow: 0 6px 20px rgba(0,0,0,0.2); }
        .features-list { list-style: none; text-align: left; max-width: 550px; margin: 30px auto; }
        .features-list li { padding: 12px 0; padding-left: 35px; position: relative; font-size: 1.05rem; }
        .features-list li::before { content: '‚úì'; position: absolute; left: 0; font-weight: bold; font-size: 1.4rem; color: #4caf50; background: white; width: 25px; height: 25px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üîç PlayStore Analytics Pro</h1>
            <p>Analyse compl√®te d'applications Android</p>
            <div id="licenseStatus"></div>
        </header>

        <div class="tabs">
            <button class="tab-btn active" id="tab1">üîç Analyse</button>
            <button class="tab-btn" id="tab2">‚öôÔ∏è Licence</button>
        </div>

        <div id="content1" class="tab-content active">
            <div class="box">
                <input type="text" id="appId" placeholder="ID app (ex: com.roblox.client)" value="com.roblox.client">
                <button id="searchBtn">üîç Analyser</button>
            </div>
            <div id="loading1" class="loading" style="display:none;"><div class="spinner"></div><p>Chargement...</p></div>
            <div id="result1"></div>
        </div>

        <div id="content2" class="tab-content">
            <div class="box">
                <h3>üîë Activer Licence</h3>
                <p>Entrez votre cl√© Gumroad :</p>
                <input id="licenseKey" placeholder="PREMIUM-2025">
                <button id="activateBtn">‚úì Activer</button>
                <br><br>
                <p><strong>Cl√©s de test :</strong> PREMIUM-2025, TEST-LICENSE</p>
                <br>
                <a href="https://votresite.gumroad.com/l/playstore-pro" target="_blank">
                    <button style="background: linear-gradient(135deg, #4caf50, #45a049);">üí≥ Acheter Licence - 9.99‚Ç¨</button>
                </a>
                <hr style="margin:30px 0">
                <h3>üíæ Cache</h3>
                <p id="cacheInfo">Cache vide</p>
                <button id="clearCacheBtn" style="background: linear-gradient(135deg, #f44336, #d32f2f);">üóëÔ∏è Vider Cache</button>
            </div>
        </div>
    </div>

    <div id="premiumModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üíé Rapport Premium Complet</h2>
                <button class="modal-close" id="closeModal">√ó</button>
            </div>
            <div class="modal-body" id="premiumContent"></div>
        </div>
    </div>
</body>
<script>
const API='https://gplay-scraper-backend.onrender.com';
let fullData=null;

document.getElementById('tab1').onclick=()=>{document.getElementById('content1').classList.add('active');document.getElementById('content2').classList.remove('active');document.getElementById('tab1').classList.add('active');document.getElementById('tab2').classList.remove('active')};
document.getElementById('tab2').onclick=()=>{document.getElementById('content2').classList.add('active');document.getElementById('content1').classList.remove('active');document.getElementById('tab2').classList.add('active');document.getElementById('tab1').classList.remove('active')};

function fmt(e){return e?e>=1e9?(e/1e9).toFixed(1)+'B':e>=1e6?(e/1e6).toFixed(1)+'M':e>=1e3?(e/1e3).toFixed(1)+'K':e.toString():'0'}
function toast(e,t){const a=document.createElement('div');a.className='toast '+t;a.textContent=e;document.body.appendChild(a);setTimeout(()=>a.remove(),3e3)}
function cache(e,t){if(t){const a=JSON.parse(localStorage.getItem('cache')||'{}');a[e]={data:t,time:Date.now()};localStorage.setItem('cache',JSON.stringify(a))}else{const t=JSON.parse(localStorage.getItem('cache')||'{}');if(t[e]&&Date.now()-t[e].time<864e5)return t[e].data;return null}}

function checkLicense(){const e=localStorage.getItem('license');if(e&&(e==='PREMIUM-2025'||e==='TEST-LICENSE'||e.startsWith('GR-'))){document.getElementById('licenseStatus').innerHTML="<span style='background:#4caf50;color:white;padding:8px 20px;border-radius:20px;display:inline-block;margin-top:15px;'>‚úì Premium Actif</span>"}}

document.getElementById('activateBtn').onclick=function(){const e=document.getElementById('licenseKey').value.trim();if(!e)return toast('Entrez une cl√©','error');if(e==='PREMIUM-2025'||e==='TEST-LICENSE'||e.startsWith('GR-')){localStorage.setItem('license',e);toast('Licence activ√©e !','success');checkLicense()}else{toast('Cl√© invalide','error')}};

document.getElementById('clearCacheBtn').onclick=function(){localStorage.removeItem('cache');toast('Cache vid√©','success')};

document.getElementById('searchBtn').onclick=async function(){
    const id=document.getElementById('appId').value.trim();
    if(!id)return toast('Entrez un ID','error');
    
    const cached=cache(id);
    if(cached){displayResult(cached);loadFullData(id);return toast('Charg√© du cache','success')}
    
    document.getElementById('loading1').style.display='block';
    document.getElementById('result1').innerHTML='';
    
    try{
        const res=await fetch(API+'/api/search/'+id);
        const data=await res.json();
        if(data.success){
            cache(id,data.data);
            displayResult(data.data);
            loadFullData(id);
        }else{toast('App non trouv√©e','error')}
    }catch(e){toast('Erreur: '+e.message,'error')}
    document.getElementById('loading1').style.display='none'
};

async function loadFullData(id){
    try{
        const res=await fetch(API+'/api/analyze/'+id);
        const data=await res.json();
        if(data.success)fullData=data.data;
    }catch(e){}
}

function displayResult(e){
    const t=document.createElement('div');
    t.className='result';
    t.innerHTML='<div class="app-header"><img class="app-icon" src="'+(e.icon||'')+'"><div><h2></h2><p></p><span style="background:#667eea;color:white;padding:5px 15px;border-radius:20px;"></span></div></div><div class="stats-grid"><div class="stat-card"><div class="stat-label">Note</div><div class="stat-value">'+(e.score?e.score.toFixed(1):'N/A')+' ‚≠ê</div></div><div class="stat-card"><div class="stat-label">Avis</div><div class="stat-value">'+fmt(e.ratings||0)+'</div></div><div class="stat-card"><div class="stat-label">Installations</div><div class="stat-value">'+(e.installs||'N/A')+'</div></div><div class="stat-card"><div class="stat-label">Prix</div><div class="stat-value">'+(e.free?'Gratuit':'$'+(e.price||'N/A'))+'</div></div></div><p style="background:#f8f9fa;padding:20px;border-radius:10px;"></p><div style="text-align:center;margin-top:30px;padding:40px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:15px;color:white;"><h3 style="margin-bottom:15px;">üíé Rapport Premium Complet</h3><p style="margin-bottom:20px;">65+ m√©triques ‚Ä¢ Graphiques ‚Ä¢ Analyse ASO</p><button id="showPremiumBtn" style="background:white;color:#667eea;margin-right:10px;">üîì Voir l\'Aper√ßu</button><a href="https://votresite.gumroad.com/l/playstore-pro" target="_blank"><button style="background:#4caf50;">üí≥ Acheter - 9.99‚Ç¨</button></a></div>';
    
    t.querySelector('h2').textContent=e.title||'N/A';
    t.querySelector('p').textContent=e.developer||'N/A';
    t.querySelector('span').textContent=e.genre||'N/A';
    t.querySelector('p:last-of-type').innerHTML='<strong>Description:</strong><br>'+(e.summary||'N/A');
    
    document.getElementById('result1').innerHTML='';
    document.getElementById('result1').appendChild(t);
    
    document.getElementById('showPremiumBtn').onclick=showPremiumModal;
}

function showPremiumModal(){
    if(!fullData)return toast('Chargement des donn√©es...','error');
    
    const d=fullData;
    const h=d.histogram||[0,0,0,0,0];
    const maxH=Math.max(...h);
    
    let html='<div class="premium-section"><h4>üìä Statistiques D√©taill√©es Avanc√©es</h4><div class="info-grid">';
    html+='<div class="info-item"><div class="info-label">Installs R√©elles</div><div class="info-value">'+fmt(d.realInstalls||0)+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Installs/Jour</div><div class="info-value">'+fmt(d.dailyInstalls||0)+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Installs/Mois</div><div class="info-value">'+fmt(d.monthlyInstalls||0)+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Reviews Totales</div><div class="info-value">'+fmt(d.reviews||0)+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Installs Min</div><div class="info-value">'+fmt(d.minInstalls||0)+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Installs Min/Jour</div><div class="info-value">'+fmt(d.minDailyInstalls||0)+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Installs Min/Mois</div><div class="info-value">'+fmt(d.minMonthlyInstalls||0)+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Real Daily Installs</div><div class="info-value">'+fmt(d.realDailyInstalls||0)+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Real Monthly Installs</div><div class="info-value">'+fmt(d.realMonthlyInstalls||0)+'</div></div>';
    html+='</div></div>';
    
    html+='<div class="premium-section"><h4>‚≠ê Distribution Compl√®te des Notes</h4><div class="chart-container"><div class="bar-chart">';
    for(let i=0;i<5;i++){
        const height=maxH>0?(h[i]/maxH)*100:0;
        html+='<div class="bar" style="height:'+height+'%"><div class="bar-value">'+fmt(h[i])+'</div><div class="bar-label">'+(i+1)+'‚òÖ</div></div>';
    }
    html+='</div></div></div>';
    
    html+='<div class="premium-section"><h4>üìÖ Informations Temporelles</h4><div class="info-grid">';
    html+='<div class="info-item"><div class="info-label">Date Sortie</div><div class="info-value">'+(d.released||'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Derni√®re MAJ</div><div class="info-value">'+(d.lastUpdated||'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">√Çge (jours)</div><div class="info-value">'+(d.appAgeDays||0)+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Version Actuelle</div><div class="info-value">'+(d.version||'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Timestamp MAJ</div><div class="info-value">'+(d.updatedTimestamp||'N/A')+'</div></div>';
    html+='</div></div>';
    
    html+='<div class="premium-section blur-section"><div class="unlock-badge">üîí Premium - 9.99‚Ç¨</div><h4>üîß Informations Techniques Compl√®tes</h4><div class="info-grid">';
    html+='<div class="info-item"><div class="info-label">Android Requis</div><div class="info-value">API '+(d.minAndroidApi||'?')+'+</div></div>';
    html+='<div class="info-item"><div class="info-label">Android Max</div><div class="info-value">API '+(d.maxAndroidApi||'?')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Version Android</div><div class="info-value">'+(d.androidVersion||'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">App Bundle</div><div class="info-value">'+(d.appBundle||'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Classification</div><div class="info-value">'+(d.contentRating||'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Publicit√©s</div><div class="info-value">'+(d.adSupported?'‚úì Oui':'‚úó Non')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Contient Ads</div><div class="info-value">'+(d.containsAds?'‚úì Oui':'‚úó Non')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Achats Int√©gr√©s</div><div class="info-value">'+(d.offersIAP?'‚úì Oui':'‚úó Non')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Prix IAP</div><div class="info-value">'+(d.inAppProductPrice||'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Prix Original</div><div class="info-value">'+(d.originalPrice||'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">En Solde</div><div class="info-value">'+(d.sale?'‚úì Oui':'‚úó Non')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Disponible</div><div class="info-value">'+(d.available?'‚úì Oui':'‚úó Non')+'</div></div>';
    html+='</div></div>';
    
    html+='<div class="premium-section blur-section"><div class="unlock-badge">üîí Premium - 9.99‚Ç¨</div><h4>üë®‚Äçüíª Informations D√©veloppeur</h4><div class="info-grid">';
    html+='<div class="info-item"><div class="info-label">Developer ID</div><div class="info-value">'+(d.developerId||'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Email</div><div class="info-value" style="font-size:0.85rem;">'+(d.developerEmail||'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Website</div><div class="info-value" style="font-size:0.85rem;">'+(d.developerWebsite?'Disponible':'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">T√©l√©phone</div><div class="info-value">'+(d.developerPhone||'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Adresse</div><div class="info-value" style="font-size:0.8rem;">'+(d.developerAddress?'Disponible':'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Privacy Policy</div><div class="info-value">'+(d.privacyPolicy?'‚úì':'‚úó')+'</div></div>';
    html+='</div></div>';
    
    html+='<div class="premium-section blur-section"><div class="unlock-badge">üîí Premium - 9.99‚Ç¨</div><h4>üîç Analyse SEO & ASO</h4><div class="info-grid">';
    html+='<div class="info-item"><div class="info-label">Mots-Cl√©s Uniques</div><div class="info-value">'+(d.uniqueKeywords||0)+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Total Mots</div><div class="info-value">'+(d.totalWords||0)+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Score Lisibilit√©</div><div class="info-value">'+(d.readability?.flesch_score?.toFixed(1)||'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Niveau Lecture</div><div class="info-value" style="font-size:0.9rem;">'+(d.readability?.flesch_level||'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Longueur Phrases</div><div class="info-value">'+(d.readability?.avg_sentence_length?.toFixed(1)||'N/A')+'</div></div>';
    html+='</div>';
    
    if(d.topKeywords){
        html+='<div style="margin-top:20px;"><strong style="color:#667eea;">üè∑Ô∏è Top Keywords:</strong><div style="display:flex;flex-wrap:wrap;gap:8px;margin-top:10px;">';
        const topK=Object.entries(d.topKeywords).slice(0,10);
        topK.forEach(([k,v])=>{html+='<span style="background:#667eea;color:white;padding:6px 12px;border-radius:20px;font-size:0.85rem;">'+k+' ('+v+')</span>'});
        html+='</div></div>';
    }
    
    if(d.topBigrams){
        html+='<div style="margin-top:15px;"><strong style="color:#764ba2;">üìä Top Bigrams:</strong><div style="display:flex;flex-wrap:wrap;gap:8px;margin-top:10px;">';
        const topB=Object.entries(d.topBigrams).slice(0,8);
        topB.forEach(([k,v])=>{html+='<span style="background:#764ba2;color:white;padding:6px 12px;border-radius:20px;font-size:0.85rem;">'+k+' ('+v+')</span>'});
        html+='</div></div>';
    }
    
    if(d.competitiveKeywords){
        html+='<div style="margin-top:15px;"><strong style="color:#f57c00;">üéØ Competitive Keywords:</strong><div style="margin-top:10px;background:#fff3e0;padding:15px;border-radius:10px;font-size:0.9rem;">';
        for(let cat in d.competitiveKeywords){
            html+='<div style="margin-bottom:8px;"><strong>'+cat+':</strong> '+d.competitiveKeywords[cat].join(', ')+'</div>';
        }
        html+='</div></div>';
    }
    html+='</div>';
    
    html+='<div class="premium-section blur-section"><div class="unlock-badge">üîí Premium - 9.99‚Ç¨</div><h4>üñºÔ∏è M√©dias & Visuels</h4>';
    if(d.screenshots&&d.screenshots.length>0){
        html+='<div><strong>üì∏ Screenshots ('+d.screenshots.length+'):</strong><div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px;margin-top:15px;">';
        d.screenshots.slice(0,6).forEach(url=>{html+='<img src="'+url+'" style="width:100%;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);">'});
        html+='</div></div>';
    }
    if(d.headerImage){
        html+='<div style="margin-top:20px;"><strong>üé® Header Image:</strong><br><img src="'+d.headerImage+'" style="width:100%;max-width:600px;border-radius:10px;margin-top:10px;"></div>';
    }
    if(d.video){
        html+='<div style="margin-top:20px;"><strong>üé• Video Promo:</strong><br><a href="'+d.video+'" target="_blank" style="color:#667eea;">Voir la vid√©o ‚Üí</a></div>';
    }
    if(d.videoImage){
        html+='<div style="margin-top:15px;"><strong>üìπ Video Thumbnail:</strong><br><img src="'+d.videoImage+'" style="width:100%;max-width:400px;border-radius:10px;margin-top:10px;"></div>';
    }
    html+='</div>';
    
    html+='<div class="premium-section blur-section"><div class="unlock-badge">üîí Premium - 9.99‚Ç¨</div><h4>üîê Permissions & S√©curit√©</h4>';
    if(d.permissions&&Object.keys(d.permissions).length>0){
        html+='<div><strong>üõ°Ô∏è Permissions Requises:</strong><div style="margin-top:15px;">';
        for(let perm in d.permissions){
            html+='<div style="background:#f8f9fa;padding:12px;border-radius:8px;margin-bottom:10px;border-left:4px solid #ff9800;">';
            html+='<strong style="color:#ff9800;">'+perm+'</strong><ul style="margin:8px 0 0 20px;">';
            d.permissions[perm].forEach(p=>{html+='<li style="color:#666;font-size:0.9rem;">'+p+'</li>'});
            html+='</ul></div>';
        }
        html+='</div></div>';
    }
    if(d.dataSafety&&d.dataSafety.length>0){
        html+='<div style="margin-top:20px;"><strong>üîí Data Safety:</strong><ul style="margin-top:10px;">';
        d.dataSafety.forEach(s=>{html+='<li style="padding:6px 0;color:#666;">'+s+'</li>'});
        html+='</ul></div>';
    }
    html+='</div>';
    
    html+='<div class="premium-section blur-section"><div class="unlock-badge">üîí Premium - 9.99‚Ç¨</div><h4>üí¨ Reviews R√©centes</h4>';
    if(d.reviewsData&&d.reviewsData.length>0){
        html+='<div style="margin-top:15px;">';
        d.reviewsData.slice(0,3).forEach(r=>{
            html+='<div style="background:#f8f9fa;padding:15px;border-radius:10px;margin-bottom:12px;">';
            html+='<div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">';
            if(r.avatar)html+='<img src="'+r.avatar+'" style="width:40px;height:40px;border-radius:50%;">';
            html+='<div><strong>'+r.user+'</strong><div style="color:#ff9800;font-size:0.9rem;">'+('‚≠ê'.repeat(r.rating))+'</div></div>';
            html+='</div>';
            html+='<p style="color:#666;font-size:0.95rem;line-height:1.6;">'+r.text+'</p>';
            if(r.version)html+='<div style="font-size:0.85rem;color:#999;margin-top:8px;">Version: '+r.version+'</div>';
            html+='</div>';
        });
        html+='</div>';
    }
    html+='</div>';
    
    html+='<div class="premium-section blur-section"><div class="unlock-badge">üîí Premium - 9.99‚Ç¨</div><h4>üì± Informations Suppl√©mentaires</h4><div class="info-grid">';
    html+='<div class="info-item"><div class="info-label">App URL</div><div class="info-value" style="font-size:0.75rem;">'+(d.appUrl?'Play Store':'N/A')+'</div></div>';
    html+='<div class="info-item"><div class="info-label">Genre ID</div><div class="info-value">'+(d.genreId||'N/A')+'</div></div>';
    if(d.categories&&d.categories.length>0){
        html+='<div class="info-item"><div class="info-label">Cat√©gories</div><div class="info-value" style="font-size:0.85rem;">'+d.categories.join(', ')+'</div></div>';
    }
    if(d.whatsNew&&d.whatsNew.length>0){
        html+='<div class="info-item" style="grid-column:1/-1;"><div class="info-label">Nouveaut√©s</div><div class="info-value" style="font-size:0.9rem;"><ul style="margin-top:8px;">';
        d.whatsNew.slice(0,5).forEach(w=>{html+='<li style="margin:5px 0;color:#666;">'+w+'</li>'});
        html+='</ul></div></div>';
    }
    html+='</div></div>';
    
    html+='<div class="cta-section"><h3>üéÅ D√©bloquez TOUTES les Donn√©es</h3><div class="price-tag">9,99‚Ç¨</div>';
    html+='<p style="font-size:1.2rem;margin:20px 0;"><strong>65+ m√©triques ‚Ä¢ Screenshots ‚Ä¢ Reviews ‚Ä¢ Keywords ‚Ä¢ Permissions</strong></p>';
    html+='<ul class="features-list"><li>Toutes les statistiques d√©taill√©es</li><li>Historique complet 30 jours</li><li>Export PDF professionnel</li><li>Graphiques avanc√©s interactifs</li><li>Comparaison avec concurrents</li><li>Alertes automatiques par email</li><li>Analyse ASO compl√®te</li><li>Top keywords & bigrams</li><li>Screenshots & vid√©os</li><li>Permissions d√©taill√©es</li><li>Reviews r√©centes</li><li>Support prioritaire 24/7</li></ul>';
    html+='<a href="https://votresite.gumroad.com/l/playstore-pro" target="_blank"><button style="background:white;color:#667eea;font-size:1.2rem;padding:18px 50px;">üí≥ Acheter sur Gumroad</button></a>';
    html+='<p style="margin-top:20px;font-size:0.95rem;opacity:0.9;">‚úì Paiement s√©curis√© ‚Ä¢ Acc√®s instantan√© ‚Ä¢ Garantie 30 jours</p>';
    html+='</div>';
    
    document.getElementById('premiumContent').innerHTML=html;
    document.getElementById('premiumModal').style.display='block';
}

document.getElementById('closeModal').onclick=()=>{document.getElementById('premiumModal').style.display='none'};
document.getElementById('premiumModal').onclick=function(e){if(e.target===this)this.style.display='none'};

checkLicense();
</script>
</html>
